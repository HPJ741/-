{"uid":"2fa055e2bb6c820a","name":"测试失败","fullName":"case.test_api.TestApi#test_fail","historyId":"bfed40cb5125b32353e101be98dbe867","time":{"start":1684067885237,"stop":1684067885237,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 1 == 0","statusTrace":"self = <case.test_api.TestApi object at 0x000001F21BD76908>\n\n    @allure.title(\"测试失败\")\n    @pytest.mark.flaky(reruns=2, reruns_delay=3)\n    def test_fail(self):\n        with allure.step(\"失败用例1\"):\n            print(\"失败用例1失败用例1失败用例1失败用例1失败用例1\")\n            assert 1 == 1\n    \n        with allure.step(\"失败用例2\"):\n            print(\"失败用例2失败用例2失败用例2失败用例2失败用例2失败用例2\")\n>           assert 1 == 0\nE           assert 1 == 0\n\ncase\\test_api.py:166: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"init","time":{"start":1684067882486,"stop":1684067882486,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"funcInfo","time":{"start":1684067882486,"stop":1684067882487,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"_xunit_setup_class_fixture_TestApi","time":{"start":1684067882487,"stop":1684067882487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 1 == 0","statusTrace":"self = <case.test_api.TestApi object at 0x000001F21BD76908>\n\n    @allure.title(\"测试失败\")\n    @pytest.mark.flaky(reruns=2, reruns_delay=3)\n    def test_fail(self):\n        with allure.step(\"失败用例1\"):\n            print(\"失败用例1失败用例1失败用例1失败用例1失败用例1\")\n            assert 1 == 1\n    \n        with allure.step(\"失败用例2\"):\n            print(\"失败用例2失败用例2失败用例2失败用例2失败用例2失败用例2\")\n>           assert 1 == 0\nE           assert 1 == 0\n\ncase\\test_api.py:166: AssertionError","steps":[{"name":"失败用例1","time":{"start":1684067885237,"stop":1684067885237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"失败用例2","time":{"start":1684067885237,"stop":1684067885237,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 1 == 0\n","statusTrace":"  File \"D:\\PycharmProjects\\电商接口自动化项目\\case\\test_api.py\", line 166, in test_fail\n    assert 1 == 0\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":0}],"attachments":[],"parameters":[],"stepsCount":2,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":0},"afterStages":[{"name":"_xunit_setup_class_fixture_TestApi::0","time":{"start":1684067891444,"stop":1684067891444,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"funcInfo::0","time":{"start":1684067891447,"stop":1684067891452,"duration":5},"status":"broken","statusMessage":"AttributeError: module 'datetime' has no attribute 'today'\n","statusTrace":"  File \"C:\\Users\\14917\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\allure_commons\\_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"C:\\Users\\14917\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\_pytest\\fixtures.py\", line 918, in _teardown_yield_fixture\n    next(it)\n  File \"D:\\PycharmProjects\\电商接口自动化项目\\case\\conftest.py\", line 45, in funcInfo\n    log_list = [os.path.join(log_dir, i) for i in os.listdir(log_dir) if i == datetime.today().strftime(\"%Y-%m-%d\")]\n  File \"D:\\PycharmProjects\\电商接口自动化项目\\case\\conftest.py\", line 45, in <listcomp>\n    log_list = [os.path.join(log_dir, i) for i in os.listdir(log_dir) if i == datetime.today().strftime(\"%Y-%m-%d\")]\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":true,"shouldDisplayMessage":true,"attachmentsCount":0}],"labels":[{"name":"epic","value":"user接口测试"},{"name":"tag","value":"flaky(reruns=2, reruns_delay=3)"},{"name":"parentSuite","value":"case"},{"name":"suite","value":"test_api"},{"name":"subSuite","value":"TestApi"},{"name":"host","value":"V_PEARLHON-NBIO"},{"name":"thread","value":"21164-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"case.test_api"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["flaky(reruns=2, reruns_delay=3)"]},"source":"2fa055e2bb6c820a.json","parameterValues":[]}